<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Battleship DEMO</title>
			<!-- Load Libraries -->
		<!-- jQuery -->
	<script src="lib/jQuery/jquery-1.11.0.min.js"></script>

      		<!-- ACE Editor -->
	<!-- load ace -->
	<script src="lib/ace/src-noconflict/ace.js"></script>
	<!-- load ace language tools -->
	<script src="lib/ace/src-noconflict/ext-language_tools.js"></script>

	      <!-- Bootstrap -->
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css"/>

	<!-- Optional theme -->
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap-theme.min.css"/>

	<!-- Latest compiled and minified JavaScript -->
	<script src="lib/bootstrap/js/bootstrap.min.js"></script>

	      <!-- Bootstrap-Tables -->      
	<!-- Load Bootstrap-Tables Script -->            
	<script src="lib/bootstrap-table/dist/bootstrap-table.min.js"></script> 

	<!-- Load Bootstrap-Tables Styles -->
	<link rel="stylesheet" href="lib/bootstrap-table/dist/bootstrap-table.min.css">

	      <!-- jQuery Terminal -->
	<!--<script src="lib/jquery-terminal/js/jquery-1.7.1.min.js"></script>-->
	<script src="lib/jquery-terminal/js/jquery.mousewheel-min.js"></script>
	<script src="lib/jquery-terminal/js/jquery.terminal-min.js"></script>
	<link rel="stylesheet" href="lib/jquery-terminal/css/jquery.terminal.css"/>

	            <!-- Load Scripts and Styles -->
	<link rel="stylesheet" href="styles/styles.css">

	<script type="text/javascript" src="js/api.js"></script>
	<script type="text/javascript" src="js/grid-api.js"></script>
	<script type="text/javascript" src="js/grid-button.js"></script>
	<script type="text/javascript" src="js/ai.js"></script>
</head>
<body>
  <div class="split">
    
    <!-- ACE Editor -->
    <div id="editor" onkeypress="editorKeyPressed()"></div>

    <!-- My Ace File that runs Ace Editor -->
    <script src="js/ace/my-ace.js"></script>


    <div id="controls">

      <!-- Controls -->
      <button type="button" class="btn btn-primary" id="send_button" onclick="runButtonOnClicked()"><img src="lib/glyphicons/png/glyphicons-422-send.png"></button>
      <button type="button" class="btn btn-primary" id="save_button" onclick="saveButtonOnClicked()"><img id="save_icon" src="lib/glyphicons/png/glyphicons-447-floppy-save.png"></button>
      <div id="terminal" style="height: 45vh">
        <script>
          term = $('#terminal').terminal(function(command, term){}, { 
            prompt: '>', greetings: "", enabled: false, focus: false
          });
          term.disabled = "disabled";
          //console.log = function(str){term.echo(str);}
        </script>
      </div>
    </div>
  </div>
  <div class="split" id="game">
    <div id="your_grid">
    	<script type="text/javascript">
    		console.log("your_grid");
    		your_grid = new GridButtons(3,5,0);
    		your_grid.buildButtonGrid("your_grid");

    		// Loading Boats
			$.ajax({
		      type: "POST",
		      url: "/query",          
		      data: JSON.stringify({ "query": "SELECT * FROM ships" }),
		      contentType: "application/json; charset=utf-8",
		      dataType: "json",
		      success: function(data){
		        term.echo("SUCCESSFULLY LOADING SHIPS", {
		          finalize: function(div) {
		            div.css("color", "green");
		          }
		        });

		        your_grid.showBoats(data, "your_grid");
		      },
		      failure: function(errMsg) {
		        term.echo("ERROR LOADING SHIPS", {
		          finalize: function(div) {
		            div.css("color", "red");
		          }
		        });
		      }
		  	});    		
    	</script>
    </div>
    <div id="computer_grid">
    	<script type="text/javascript">
	    	console.log("computer_grid");
	    	computer_grid = new GridButtons(3,5,0);
	    	computer_grid.buildButtonGrid("computer_grid");
	    	
	    	AI = new AI(2, computer_grid.numrows, computer_grid.numcolumns);
	    	computer_grid.showBoats(AI, "computer_grid");
	    	//computer_grid.fillGridwithBoats(AI);
	    	computer_grid.printGrid();
    	</script>
    </div>
  </div>
</body>
</html>
